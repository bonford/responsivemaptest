<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
<script src="breaky.js"></script>

<link rel="stylesheet" href="http://bootswatch.com/simplex/bootstrap.min.css" />

 


<style type="text/css">
body {
  color: #404040;
  font: 400 15px/22px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
  margin: 0;
  padding: 0;
  -webkit-font-smoothing: antialiased;
}

* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

/* The page is split between map and sidebar - the sidebar gets 1/3, map
gets 2/3 of the page. You can adjust this to your personal liking. */
.sidebar {
      position: relative;
  width: 33.3333%;
}

#map {
  border-left: 1px solid #fff;
  position: absolute;
  left: 33.3333%;
  width: 66.6666%;
  top: 0;
  bottom: 0;
  
}
#map {
  height: 100%;
}

.pad2 {
  padding: 20px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

@media screen and (max-width: 660px) {
  #map, .sidebar {

    height: 50%;
    width: 100%;
  }
  #map {
    top: 0;
    bottom: 50%;
    left: 0;
  }
  .sidebar {
    top: 50%;
    bottom: 100%;
  }


}

@media screen and (max-width: 1024px) {
  #map, .sidebar {

    height: 50%;
    width: 100%;
  }
  #map {
    top: 0;
    bottom: 0%;
    left: 0;
  }
  .sidebar {
    top: 50%;
    bottom: 100%;
  }


}



/**
 * Breaky css values will not show up in content, but can be 
 * queried by JavaScript to know which breakpoint is active.
 * Add or remove as many breakpoints as you like.
 */

html:before {
  content: "mobile,tablet,desktop";
  display: none;
}
html:before {
  display: none;
}
@media (min-width: 320px) {
  body:before {
    content: "mobile";
  }
}
@media (min-width: 513px) {
  body:before {
    content: "tablet";
  }
}
@media (min-width: 1025px) {
  body:before {
    content: "desktop";
  }
}


</style>
<script>

function myMap() {
var mapOptions = {
        zoom: Math.ceil(Math.log2(document.body.clientWidth))-9,
        center: new google.maps.LatLng(0, 0),
        mapTypeId: google.maps.MapTypeId.HYBRID
    };


   // document.write("log width: " + Math.ceil(Math.log2(document.body.clientWidth)));
var gmap = new google.maps.Map(document.getElementById("map"), mapOptions);


google.maps.event.addListener(gmap, 'bounds_changed', function() {
    var spherical = google.maps.geometry.spherical; 
    bounds = gmap.getBounds(); 
 
    cor1 = bounds.getNorthEast(); 
    cor2 = bounds.getSouthWest(); 
    cor3 = new google.maps.LatLng(cor2.lat(), cor1.lng()); 
    cor4 = new google.maps.LatLng(cor1.lat(), cor2.lng()); 
    width = spherical.computeDistanceBetween(cor1,cor3); 
    height = spherical.computeDistanceBetween( cor1, cor4);
       console.log("bounds:" + width + " " + height );
     
      });

document.addEventListener("DOMContentLoaded", function(event) {
   
        


	//Optional Fix for IE8
	breaky.initIE8(["mobile","tablet","desktop"], "desktop");

	var message1 = document.getElementById("message1");
	var message2 = document.getElementById("message2");
	var message3 = document.getElementById("message3");


	// First Message
	breaky.at("mobile", function() {
    message1.innerHTML = "mobile: " + width + " " + height;
	});

	breaky.at("tablet", function() {
		message1.innerHTML = "tablet";
	});

	breaky.at("desktop", function() {
		message1.innerHTML = "desktop";
	});



});

}</script>
</HEAD>

<BODY>

       
  

    <div class='sidebar'>

  
  <div id='listings' class='listings'>
   <div id="message1"></div>



  </div>
</div>
<div id='map' class='map pad2'>Map</div>



<script src="https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyCVAGiYblnsWASLhMhdEHC4RKpvG0OeZ-0&callback=myMap"></script>




</BODY>
</HTML>
